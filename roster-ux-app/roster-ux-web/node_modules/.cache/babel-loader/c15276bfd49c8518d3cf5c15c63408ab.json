{"ast":null,"code":"var Class = require(\"o3\").Class,\n    abstractMethod = require(\"o3\").abstractMethod,\n    eachCombination = require(\"u3\").eachCombination,\n    cache = require(\"u3\").cache,\n    capability = require(\"capability\");\n\nvar AbstractFrameStringSource = Class(Object, {\n  prototype: {\n    captureFrameStrings: function (frameShifts) {\n      var error = this.createError();\n      frameShifts.unshift(this.captureFrameStrings);\n      frameShifts.unshift(this.createError);\n      var capturedFrameStrings = this.getFrameStrings(error);\n      var frameStrings = capturedFrameStrings.slice(frameShifts.length),\n          functionValues = [];\n\n      if (capability(\"arguments.callee.caller\")) {\n        var capturedFunctionValues = [this.createError, this.captureFrameStrings];\n\n        try {\n          var aCaller = arguments.callee;\n\n          while (aCaller = aCaller.caller) capturedFunctionValues.push(aCaller);\n        } catch (useStrictError) {}\n\n        functionValues = capturedFunctionValues.slice(frameShifts.length);\n      }\n\n      return {\n        frameStrings: frameStrings,\n        functionValues: functionValues\n      };\n    },\n    getFrameStrings: function (error) {\n      var message = error.message || \"\";\n      var name = error.name || \"\";\n      var stackString = this.getStackString(error);\n      if (stackString === undefined) return;\n      var stackStringChunks = stackString.split(\"\\n\");\n      var fromPosition = 0;\n      var toPosition = stackStringChunks.length;\n      if (this.hasHeader) fromPosition += name.split(\"\\n\").length + message.split(\"\\n\").length - 1;\n      if (this.hasFooter) toPosition -= 1;\n      return stackStringChunks.slice(fromPosition, toPosition);\n    },\n    createError: abstractMethod,\n    getStackString: abstractMethod,\n    hasHeader: undefined,\n    hasFooter: undefined\n  }\n});\nvar FrameStringSourceCalibrator = Class(Object, {\n  prototype: {\n    calibrateClass: function (FrameStringSource) {\n      return this.calibrateMethods(FrameStringSource) && this.calibrateEnvelope(FrameStringSource);\n    },\n    calibrateMethods: function (FrameStringSource) {\n      try {\n        eachCombination([[function (message) {\n          return new Error(message);\n        }, function (message) {\n          try {\n            throw new Error(message);\n          } catch (error) {\n            return error;\n          }\n        }], [function (error) {\n          return error.stack;\n        }, function (error) {\n          return error.stacktrace;\n        }]], function (createError, getStackString) {\n          if (getStackString(createError())) throw {\n            getStackString: getStackString,\n            createError: createError\n          };\n        });\n      } catch (workingImplementation) {\n        Class.merge.call(FrameStringSource, {\n          prototype: workingImplementation\n        });\n        return true;\n      }\n\n      return false;\n    },\n    calibrateEnvelope: function (FrameStringSource) {\n      var getStackString = FrameStringSource.prototype.getStackString;\n      var createError = FrameStringSource.prototype.createError;\n      var calibratorStackString = getStackString(createError(\"marker\"));\n      var calibratorFrameStrings = calibratorStackString.split(\"\\n\");\n      Class.merge.call(FrameStringSource, {\n        prototype: {\n          hasHeader: /marker/.test(calibratorFrameStrings[0]),\n          hasFooter: calibratorFrameStrings[calibratorFrameStrings.length - 1] === \"\"\n        }\n      });\n      return true;\n    }\n  }\n});\nmodule.exports = {\n  getClass: cache(function () {\n    var FrameStringSource;\n    if (FrameStringSource) return FrameStringSource;\n    FrameStringSource = Class(AbstractFrameStringSource, {});\n    var calibrator = new FrameStringSourceCalibrator();\n    if (!calibrator.calibrateClass(FrameStringSource)) throw new Error(\"Cannot read Error.prototype.stack in this environment.\");\n    return FrameStringSource;\n  }),\n  getInstance: cache(function () {\n    var FrameStringSource = this.getClass();\n    var instance = new FrameStringSource();\n    return instance;\n  })\n};","map":{"version":3,"sources":["/home/jjsullivan/near-roster-ux-project/roster-ux-app/roster-ux-web/node_modules/error-polyfill/lib/non-v8/FrameStringSource.js"],"names":["Class","require","abstractMethod","eachCombination","cache","capability","AbstractFrameStringSource","Object","prototype","captureFrameStrings","frameShifts","error","createError","unshift","capturedFrameStrings","getFrameStrings","frameStrings","slice","length","functionValues","capturedFunctionValues","aCaller","arguments","callee","caller","push","useStrictError","message","name","stackString","getStackString","undefined","stackStringChunks","split","fromPosition","toPosition","hasHeader","hasFooter","FrameStringSourceCalibrator","calibrateClass","FrameStringSource","calibrateMethods","calibrateEnvelope","Error","stack","stacktrace","workingImplementation","merge","call","calibratorStackString","calibratorFrameStrings","test","module","exports","getClass","calibrator","getInstance","instance"],"mappings":"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","sourcesContent":["var Class = require(\"o3\").Class,\r\n    abstractMethod = require(\"o3\").abstractMethod,\r\n    eachCombination = require(\"u3\").eachCombination,\r\n    cache = require(\"u3\").cache,\r\n    capability = require(\"capability\");\r\n\r\nvar AbstractFrameStringSource = Class(Object, {\r\n    prototype: {\r\n        captureFrameStrings: function (frameShifts) {\r\n            var error = this.createError();\r\n            frameShifts.unshift(this.captureFrameStrings);\r\n            frameShifts.unshift(this.createError);\r\n            var capturedFrameStrings = this.getFrameStrings(error);\r\n\r\n            var frameStrings = capturedFrameStrings.slice(frameShifts.length),\r\n                functionValues = [];\r\n\r\n            if (capability(\"arguments.callee.caller\")) {\r\n                var capturedFunctionValues = [\r\n                    this.createError,\r\n                    this.captureFrameStrings\r\n                ];\r\n                try {\r\n                    var aCaller = arguments.callee;\r\n                    while (aCaller = aCaller.caller)\r\n                        capturedFunctionValues.push(aCaller);\r\n                }\r\n                catch (useStrictError) {\r\n                }\r\n                functionValues = capturedFunctionValues.slice(frameShifts.length);\r\n            }\r\n            return {\r\n                frameStrings: frameStrings,\r\n                functionValues: functionValues\r\n            };\r\n        },\r\n        getFrameStrings: function (error) {\r\n            var message = error.message || \"\";\r\n            var name = error.name || \"\";\r\n            var stackString = this.getStackString(error);\r\n            if (stackString === undefined)\r\n                return;\r\n            var stackStringChunks = stackString.split(\"\\n\");\r\n            var fromPosition = 0;\r\n            var toPosition = stackStringChunks.length;\r\n            if (this.hasHeader)\r\n                fromPosition += name.split(\"\\n\").length + message.split(\"\\n\").length - 1;\r\n            if (this.hasFooter)\r\n                toPosition -= 1;\r\n            return stackStringChunks.slice(fromPosition, toPosition);\r\n        },\r\n        createError: abstractMethod,\r\n        getStackString: abstractMethod,\r\n        hasHeader: undefined,\r\n        hasFooter: undefined\r\n    }\r\n});\r\n\r\nvar FrameStringSourceCalibrator = Class(Object, {\r\n    prototype: {\r\n        calibrateClass: function (FrameStringSource) {\r\n            return this.calibrateMethods(FrameStringSource) && this.calibrateEnvelope(FrameStringSource);\r\n        },\r\n        calibrateMethods: function (FrameStringSource) {\r\n            try {\r\n                eachCombination([[\r\n                    function (message) {\r\n                        return new Error(message);\r\n                    },\r\n                    function (message) {\r\n                        try {\r\n                            throw new Error(message);\r\n                        }\r\n                        catch (error) {\r\n                            return error;\r\n                        }\r\n                    }\r\n                ], [\r\n                    function (error) {\r\n                        return error.stack;\r\n                    },\r\n                    function (error) {\r\n                        return error.stacktrace;\r\n                    }\r\n                ]], function (createError, getStackString) {\r\n                    if (getStackString(createError()))\r\n                        throw {\r\n                            getStackString: getStackString,\r\n                            createError: createError\r\n                        };\r\n                });\r\n            } catch (workingImplementation) {\r\n                Class.merge.call(FrameStringSource, {\r\n                    prototype: workingImplementation\r\n                });\r\n                return true;\r\n            }\r\n            return false;\r\n        },\r\n        calibrateEnvelope: function (FrameStringSource) {\r\n            var getStackString = FrameStringSource.prototype.getStackString;\r\n            var createError = FrameStringSource.prototype.createError;\r\n            var calibratorStackString = getStackString(createError(\"marker\"));\r\n            var calibratorFrameStrings = calibratorStackString.split(\"\\n\");\r\n            Class.merge.call(FrameStringSource, {\r\n                prototype: {\r\n                    hasHeader: /marker/.test(calibratorFrameStrings[0]),\r\n                    hasFooter: calibratorFrameStrings[calibratorFrameStrings.length - 1] === \"\"\r\n                }\r\n            });\r\n            return true;\r\n        }\r\n    }\r\n});\r\n\r\n\r\nmodule.exports = {\r\n    getClass: cache(function () {\r\n        var FrameStringSource;\r\n        if (FrameStringSource)\r\n            return FrameStringSource;\r\n        FrameStringSource = Class(AbstractFrameStringSource, {});\r\n        var calibrator = new FrameStringSourceCalibrator();\r\n        if (!calibrator.calibrateClass(FrameStringSource))\r\n            throw new Error(\"Cannot read Error.prototype.stack in this environment.\");\r\n        return FrameStringSource;\r\n    }),\r\n    getInstance: cache(function () {\r\n        var FrameStringSource = this.getClass();\r\n        var instance = new FrameStringSource();\r\n        return instance;\r\n    })\r\n};"]},"metadata":{},"sourceType":"script"}